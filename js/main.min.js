document.addEventListener("DOMContentLoaded",function(){
// Mobile menu functionality  
const mobileMenuBtn=document.querySelector(".mobile-menu");
const navMenu=document.querySelector("nav ul");
if(mobileMenuBtn){
    mobileMenuBtn.addEventListener("click",function(){
        navMenu.classList.toggle("show");
        const icon=mobileMenuBtn.querySelector("i");
        if(icon){
            icon.classList.toggle("fa-bars");
            icon.classList.toggle("fa-times");
        }
    });
}

// Testimonials functionality
const testimonialSlides=document.querySelectorAll(".testimonial-slide");
let currentSlide=0;
function showSlide(n){
    testimonialSlides.forEach((slide,index)=>{
        slide.style.display=index===n?"block":"none";
    });
}
if(testimonialSlides.length>1){
    showSlide(0);
    setInterval(function(){
        currentSlide=(currentSlide+1)%testimonialSlides.length;
        showSlide(currentSlide);
    },5000);
}

// Appointment form functionality
const appointmentForm=document.querySelector(".appointment-form");
if(appointmentForm){
    appointmentForm.addEventListener("submit",function(e){
        e.preventDefault();
        const formData=new FormData(appointmentForm);
        const data={};
        for(let[key,value] of formData.entries()){
            data[key]=value;
        }
        console.log("Appointment requested:",data);
        alert("Su solicitud de cita ha sido enviada. Nos pondremos en contacto con usted pronto.");
        appointmentForm.reset();
    });
}

// Smooth scroll for anchor links
document.querySelectorAll('a[href^="#"]').forEach(link=>{
    link.addEventListener("click",function(e){
        e.preventDefault();
        const target=this.getAttribute("href");
        if(target==="#") return;
        const element=document.querySelector(target);
        if(element){
            element.scrollIntoView({behavior:"smooth",block:"start"});
        }
    });
});

// Service card animations
const serviceCards=document.querySelectorAll(".service-card");
if("IntersectionObserver" in window){
    const observer=new IntersectionObserver(entries=>{
        entries.forEach(entry=>{
            if(entry.isIntersecting){
                entry.target.classList.add("animated");
            }
        });
    },{threshold:0.2});
    serviceCards.forEach(card=>{observer.observe(card);});
}else{
    serviceCards.forEach(card=>{card.classList.add("animated");});
}
});